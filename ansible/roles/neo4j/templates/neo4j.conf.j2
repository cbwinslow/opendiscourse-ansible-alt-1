# Neo4j configuration
# Server configuration
dbms.default_database=neo4j
dbms.allow_upgrade=true

# Network connector configuration
dbms.connector.bolt.enabled=true
dbms.connector.bolt.tls_level=DISABLED
dbms.connector.bolt.listen_address=:{{ neo4j_bolt_port }}

dbms.connector.http.enabled=true
dbms.connector.http.listen_address=:{{ neo4j_http_port }}

# Memory settings
server.memory.heap.initial_size=512m
server.memory.heap.max_size={{ neo4j_memory_heap_max_size }}
server.memory.pagecache.size={{ neo4j_memory_pagecache_size }}

# Security
dbms.security.procedures.unrestricted=apoc.*
dbms.security.procedures.allowlist=apoc.*,gds.*

# APOC configuration
apoc.export.file.enabled=true
apoc.import.file.enabled=true
apoc.import.file.use_neo4j_config=false

# Logging
dbms.logs.debug.level=INFO
dbms.logs.query.enabled=true
dbms.logs.query.parameter_logging_enabled=true

# Directories
dbms.directories.logs={{ neo4j_base_dir }}/logs
dbms.directory.import={{ neo4j_base_dir }}/import
dbms.directory.plugins={{ neo4j_base_dir }}/plugins

# Plugins
dbms.security.procedures.whitelist=apoc.coll.*,apoc.load.*,apoc.*

# Allow index creation
apoc.export.file.directory={{ neo4j_base_dir }}/import

# Enable APOC procedures
apoc.trigger.enabled=true
apoc.uuid.enabled=true
apoc.import.file.use_neo4j_config=true
